{
  "model_name_or_path": "/pscratch/sd/r/rs2531/Course_Project/hf_cache/blip2-flan-t5-xl",
  "data_root": "/pscratch/sd/r/rs2531/Course_Project/roco_caption/data",
  "train_jsonl": "train.jsonl",
  "val_jsonl": "val.jsonl",
  "output_dir": "/pscratch/sd/r/rs2531/Course_Project/DeepSpeed/ds_ws4/checkpoints",

  "num_epochs": 5,
  "train_batch_size": 1,
  "eval_batch_size": 1,
  "learning_rate": 1e-5,
  "weight_decay": 0.01,
  "warmup_steps": 0,
  "max_text_len": 64,
  "num_workers": 4,
  "seed": 42,
  "log_every": 10,
  "save_every": 0,
  "grad_clip": 1.0,

  "deepspeed": {
    "train_batch_size": 4,   
    "gradient_accumulation_steps": 1,

    "zero_optimization": {
      "stage": 3,
      "overlap_comm": true,
      "contiguous_gradients": true,
      "offload_optimizer": { "device": "none" },
      "offload_param": { "device": "none" }
    },

    "fp16": {
      "enabled": true,
      "loss_scale": 0,
      "initial_scale_power": 16
    }
  }
}
